<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC|Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/68f8681dba.js" crossorigin="anonymous"></script>
    <title>商品详情</title>
    <link rel="stylesheet" href="css/style2.css">
    <link rel="stylesheet" href="css/merchandise.css">
</head>
<body>
<header>
    <div class="container" style="background-color: #333">
        <nav class="navbar navbar-expand-md navbar-light fixed-top header-color">
            <a class="navbar-brand" href="index.html"><img src="image/LOGO.png" width="100"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link nav-text" href="index.html" id="backToIndex" style="color: #fff">回首頁</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>
<main>
    <section class="product-detail">
        <div class="container">
            <div class="left-section">
                <img src="image/拉菲1998.png" alt="商品圖片" class="product-image">
            </div>
            <div class="right-section">
                <div class="product-title">拉菲1998</div>
                <div class="product-price">50000元</div>
                <div class="product-details">
                    <div class="section-title">商品詳情</div>
                    <div class="product-info">
                        <strong>商品內容</strong>
                        <span style="color: #1b1b1b">拉菲紅酒1998年份一瓶</span>
                    </div>
                    <div class="product-info">
                        <strong>商品介紹</strong>
                        <span style="color: #1b1b1b">口感順滑，單寧豐富，酒體豐滿，有濃鬱的水果香氣。</span>
                    </div>

                    <div style="color: black">數量</div>
                    <div class="count-button"><input type="number" value="1"></div>
                    <div style="color: black">庫存:10</div>
                    <div class="product-buy">
                        <a href="#" class="buy-button">購買</a>
                        <a href="shoppingcart.html" class="buy-button">加入購物車</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="review">
        <div class="container-fuild">
            <div class="row" style="margin-left: 0px; margin-right: 0px">
                <div class="col-md-8 offset-md-2 text-center">
                    <h3 style="color: rgb(227, 227, 227)">消費評論</h3>
                    <!-- 評論列表 -->
                    <div class="row">
                        <!-- 其他人的評論們 -->
                        <div class="col-md-12">
                            <div class="review-box mb-5">
                                <header style="color: rgb(203, 203, 203)">其它評論</header>
                                <div class="row mb-1">
                                    <div class="col-md-3 text-left">
                                        <p id="reviewName" style="color: rgb(233, 233, 233)"></p>
                                    </div>
                                </div>
                                <div class="row mb-5">
                                    <div class="col-md-2">
                                        <button type="button" class="rightBtn" id="lastComment">
                                            <i class="fa fa-chevron-left" style="color: #e5e5e5"></i>
                                        </button>
                                    </div>
                                    <div class="col-md-8 text-left" id="reviewComment" style="color: rgb(243, 243, 243)"></div>
                                    <div class="col-md-2">
                                        <button type="button" class="rightBtn" id="nextComment">
                                            <i class="fa fa-chevron-right" style="color: #e5e5e5"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-5 text-left" id="reviewDate" style="color: rgb(233, 233, 233)">
                                        <p></p>
                                    </div>
                                    <div class="col-md-2"></div>
                                    <div class="col-md-5 d-flex justify-content-end" id="reviewStar">
                                        <i class="fa fa-star rstar" style="color: #ff9c1a"></i>
                                        <i class="fa fa-star rstar" style="color: #ff9c1a"></i>
                                        <i class="fa fa-star rstar" style="color: #ff9c1a"></i>
                                        <i class="fa fa-star rstar" style="color: #ff9c1a"></i>
                                        <i class="fa fa-star rstar" style="color: #ff9c1a"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 其他人的評論們 -->

                        <div class="col-md-8 offset-md-2">
                            <div class="rating-box mb-5">
                                <header style="color: rgb(203, 203, 203)">留下你的評論</header>
                                <div class="stars d-flex justify-content-center">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                                <form action="#">
                                    <div class="textarea pt-4">
                                        <textarea name="" id="" cols="30" placeholder="留下你想說的話"></textarea>
                                    </div>
                                    <div class="btn">
                                        <button type="submit">Post</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
<footer style="background-color: #333">
    <p>2024 酒水專賣店. All rights reserved.</p>
</footer>

<!-- 評論 -->
<script>
    // 假設你有一個包含所有評論內容的數組
    var comments = [
        "第一個評論",
        "第二個評論",
        "第三個評論",
        // 其他評論...
    ];
    var names = ["ONE", "TWO", "THREE"];
    var dates = ["2024-06-07 1:11", "2024-06-08 5:55", "2024-06-09 2:22"];
    var stars = [4, 5, 5];

    // 獲取按鈕元素
    var nextBtn = document.getElementById("nextComment");
    var lastBtn = document.getElementById("lastComment");

    // 當按鈕被點擊時執行的函數
    nextBtn.addEventListener("click", showNextComment);
    lastBtn.addEventListener("click", showLastComment);

    // 頁面載入時顯示第一個評論
    showComment(0);

    function showNextComment() {
        var currentIndex = getCurrentIndex();
        var nextIndex = (currentIndex + 1) % comments.length;
        showComment(nextIndex);
    }

    function showLastComment() {
        var currentIndex = getCurrentIndex();
        var lastIndex = (currentIndex - 1 + comments.length) % comments.length;
        showComment(lastIndex);
    }

    function showComment(index) {
        var reviewName = document.getElementById("reviewName");
        var reviewDate = document.getElementById("reviewDate");
        var reviewComment = document.getElementById("reviewComment");
        var reviewStar = document.getElementById("reviewStar");

        reviewName.innerText = names[index];
        reviewDate.innerText = dates[index];
        reviewComment.innerText = comments[index];

        reviewStar.innerHTML = ""; // 清空星星容器內的內容

        for (var i = 0; i < 5; i++) {
            var star = document.createElement("i");
            star.classList.add("fa", "fa-star", "rstar");

            if (i < stars[index]) {
                star.style.color = "#ff9c1a"; // 將前幾顆星星設置為自定義的黃色
            } else {
                star.style.color = "#e6e6e6"; // 將後面的星星設置為自定義的灰色
            }

            reviewStar.appendChild(star);
        }
    }

    function getCurrentIndex() {
        var reviewDate = document.getElementById("reviewDate");
        var currentIndex = dates.indexOf(reviewDate.innerText.trim());
        return currentIndex;
    }
</script>

<!-- 星星評分 -->
<script>
    const stars2 = document.querySelectorAll(".stars i");

    stars2.forEach((star, index1) => {
        star.addEventListener("click", () => {
            stars2.forEach((star, index2) => {
                index1 >= index2
                    ? star.classList.add("active")
                    : star.classList.remove("active");
            });
        });
    });
</script>
</body>
</html>
